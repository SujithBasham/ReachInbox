{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sujit\\\\Desktop\\\\ReachInbox\\\\src\\\\components\\\\ReplyEditor.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport './ReplyEditor.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ReplyEditor = ({\n  email,\n  onSendReply\n}) => {\n  _s();\n  const [replyBody, setReplyBody] = useState('');\n\n  // Retrieve the user's email and name from localStorage\n  const userEmail = localStorage.getItem('userEmail');\n  const userName = localStorage.getItem('userName');\n  const handleSendReply = async () => {\n    const replyData = {\n      toName: email.fromName,\n      to: email.fromEmail,\n      from: userEmail,\n      // Use the user's email stored in localStorage\n      fromName: userName,\n      // Use the user's name stored in localStorage\n      subject: `Re: ${email.subject}`,\n      body: replyBody,\n      inReplyTo: email.messageId,\n      references: [email.messageId]\n    };\n    try {\n      const response = await fetch(`https://hiring.reachinbox.xyz/api/v1/onebox/reply/${email.threadId}`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('bearerToken')}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(replyData)\n      });\n      const data = await response.json();\n      if (data.status === 200) {\n        onSendReply();\n      } else {\n        alert(\"Failed to send reply.\");\n      }\n    } catch (error) {\n      alert(\"An error occurred while sending the reply.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"reply-editor\",\n    children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n      value: replyBody,\n      onChange: e => setReplyBody(e.target.value),\n      placeholder: \"Write your reply here...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSendReply,\n      children: \"Send\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n};\n_s(ReplyEditor, \"KzCv1cMp4KtrUeIuN1vTWKqwd9g=\");\n_c = ReplyEditor;\nexport default ReplyEditor;\nvar _c;\n$RefreshReg$(_c, \"ReplyEditor\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","ReplyEditor","email","onSendReply","_s","replyBody","setReplyBody","userEmail","localStorage","getItem","userName","handleSendReply","replyData","toName","fromName","to","fromEmail","from","subject","body","inReplyTo","messageId","references","response","fetch","threadId","method","headers","JSON","stringify","data","json","status","alert","error","className","children","value","onChange","e","target","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["C:/Users/sujit/Desktop/ReachInbox/src/components/ReplyEditor.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './ReplyEditor.css';\r\n\r\nconst ReplyEditor = ({ email, onSendReply }) => {\r\n    const [replyBody, setReplyBody] = useState('');\r\n\r\n    // Retrieve the user's email and name from localStorage\r\n    const userEmail = localStorage.getItem('userEmail');\r\n    const userName = localStorage.getItem('userName');\r\n\r\n    const handleSendReply = async () => {\r\n        const replyData = {\r\n            toName: email.fromName,\r\n            to: email.fromEmail,\r\n            from: userEmail, // Use the user's email stored in localStorage\r\n            fromName: userName, // Use the user's name stored in localStorage\r\n            subject: `Re: ${email.subject}`,\r\n            body: replyBody,\r\n            inReplyTo: email.messageId,\r\n            references: [email.messageId],\r\n        };\r\n\r\n        try {\r\n            const response = await fetch(`https://hiring.reachinbox.xyz/api/v1/onebox/reply/${email.threadId}`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Authorization': `Bearer ${localStorage.getItem('bearerToken')}`,\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify(replyData),\r\n            });\r\n\r\n            const data = await response.json();\r\n            if (data.status === 200) {\r\n                onSendReply();\r\n            } else {\r\n                alert(\"Failed to send reply.\");\r\n            }\r\n        } catch (error) {\r\n            alert(\"An error occurred while sending the reply.\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"reply-editor\">\r\n            <textarea \r\n                value={replyBody} \r\n                onChange={(e) => setReplyBody(e.target.value)} \r\n                placeholder=\"Write your reply here...\"\r\n            />\r\n            <button onClick={handleSendReply}>Send</button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ReplyEditor;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAO,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3B,MAAMC,WAAW,GAAGA,CAAC;EAAEC,KAAK;EAAEC;AAAY,CAAC,KAAK;EAAAC,EAAA;EAC5C,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;;EAE9C;EACA,MAAMS,SAAS,GAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;EACnD,MAAMC,QAAQ,GAAGF,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;EAEjD,MAAME,eAAe,GAAG,MAAAA,CAAA,KAAY;IAChC,MAAMC,SAAS,GAAG;MACdC,MAAM,EAAEX,KAAK,CAACY,QAAQ;MACtBC,EAAE,EAAEb,KAAK,CAACc,SAAS;MACnBC,IAAI,EAAEV,SAAS;MAAE;MACjBO,QAAQ,EAAEJ,QAAQ;MAAE;MACpBQ,OAAO,EAAE,OAAOhB,KAAK,CAACgB,OAAO,EAAE;MAC/BC,IAAI,EAAEd,SAAS;MACfe,SAAS,EAAElB,KAAK,CAACmB,SAAS;MAC1BC,UAAU,EAAE,CAACpB,KAAK,CAACmB,SAAS;IAChC,CAAC;IAED,IAAI;MACA,MAAME,QAAQ,GAAG,MAAMC,KAAK,CAAC,qDAAqDtB,KAAK,CAACuB,QAAQ,EAAE,EAAE;QAChGC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACL,eAAe,EAAE,UAAUnB,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,EAAE;UAChE,cAAc,EAAE;QACpB,CAAC;QACDU,IAAI,EAAES,IAAI,CAACC,SAAS,CAACjB,SAAS;MAClC,CAAC,CAAC;MAEF,MAAMkB,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;MAClC,IAAID,IAAI,CAACE,MAAM,KAAK,GAAG,EAAE;QACrB7B,WAAW,CAAC,CAAC;MACjB,CAAC,MAAM;QACH8B,KAAK,CAAC,uBAAuB,CAAC;MAClC;IACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZD,KAAK,CAAC,4CAA4C,CAAC;IACvD;EACJ,CAAC;EAED,oBACIjC,OAAA;IAAKmC,SAAS,EAAC,cAAc;IAAAC,QAAA,gBACzBpC,OAAA;MACIqC,KAAK,EAAEhC,SAAU;MACjBiC,QAAQ,EAAGC,CAAC,IAAKjC,YAAY,CAACiC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;MAC9CI,WAAW,EAAC;IAA0B;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzC,CAAC,eACF7C,OAAA;MAAQ8C,OAAO,EAAEnC,eAAgB;MAAAyB,QAAA,EAAC;IAAI;MAAAM,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC9C,CAAC;AAEd,CAAC;AAACzC,EAAA,CAlDIH,WAAW;AAAA8C,EAAA,GAAX9C,WAAW;AAoDjB,eAAeA,WAAW;AAAC,IAAA8C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}